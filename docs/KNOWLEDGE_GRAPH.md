# PKG Knowledge Graph ‚Äî –ö–æ–Ω—Ü–µ–ø—Ç—É–∞–ª—å–Ω–∞—è –º–æ–¥–µ–ª—å

> –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å—É—â–Ω–æ—Å—Ç–µ–π, —Å–æ—Å—Ç–∞–≤–ª—è—é—â–∏—Ö –≥—Ä–∞—Ñ –∑–Ω–∞–Ω–∏–π Personal Knowledge Graph

## –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

- [–û–±–∑–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã](#–æ–±–∑–æ—Ä-–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã)
- [**–°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏**](#—Å—Ç–∞—Ç—É—Å-—Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏) ‚Üê –º–∞—Ç—Ä–∏—Ü–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ entity
- [–£–∑–ª—ã –≥—Ä–∞—Ñ–∞ (Nodes)](#—É–∑–ª—ã-–≥—Ä–∞—Ñ–∞-nodes)
  - [Entity](#entity) üü¢
  - [Activity](#activity) üü°
- [–ê—Ç—Ä–∏–±—É—Ç—ã —É–∑–ª–æ–≤ (Node Properties)](#–∞—Ç—Ä–∏–±—É—Ç—ã-—É–∑–ª–æ–≤-node-properties)
  - [EntityFact](#entityfact) üü¢
  - [EntityIdentifier](#entityidentifier) üü¢
- [–†—ë–±—Ä–∞ –≥—Ä–∞—Ñ–∞ (Edges)](#—Ä—ë–±—Ä–∞-–≥—Ä–∞—Ñ–∞-edges)
  - [EntityRelation](#entityrelation) üü°
  - [Commitment](#commitment) üü°
  - [ActivityMember](#activitymember) üî¥
- [–ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–Ω–∞–Ω–∏—è (Summaries)](#–∞–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ-–∑–Ω–∞–Ω–∏—è-summaries)
  - [EntityRelationshipProfile](#entityrelationshipprofile) üü¢
  - [InteractionSummary](#interactionsummary) üü¢
- [–ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö (Raw Data)](#–∏—Å—Ç–æ—á–Ω–∏–∫–∏-–¥–∞–Ω–Ω—ã—Ö-raw-data)
  - [Interaction](#interaction) üü¢
  - [Message](#message) üü¢
  - [TranscriptSegment](#transcriptsegment) üü¢
- [–ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ (Phase E)](#–ø–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ-—Å—É—â–Ω–æ—Å—Ç–∏-phase-e)
  - [TopicalSegment](#topicalsegment) ‚ö™
  - [KnowledgePack](#knowledgepack) ‚ö™
- [**–°–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ –ø–ª–∞–Ω —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è**](#—Å–∏—Å—Ç–µ–º–Ω—ã–µ-–ø—Ä–æ–±–ª–µ–º—ã-–∏-–ø–ª–∞–Ω-—É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è)
- [–í–∏–∑—É–∞–ª—å–Ω—ã–µ —Å—Ö–µ–º—ã](#–≤–∏–∑—É–∞–ª—å–Ω—ã–µ-—Å—Ö–µ–º—ã)
- [–°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞](#—Å–≤–æ–¥–Ω–∞—è-—Ç–∞–±–ª–∏—Ü–∞)

---

## –û–±–∑–æ—Ä –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã

PKG Knowledge Graph ‚Äî —ç—Ç–æ –≥—Ä–∞—Ñ –∑–Ω–∞–Ω–∏–π, –≥–¥–µ:

- **–£–∑–ª—ã (Nodes)** ‚Äî —Å—É–±—ä–µ–∫—Ç—ã (–ª—é–¥–∏, –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏) –∏ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ (–ø—Ä–æ–µ–∫—Ç—ã, –∑–∞–¥–∞—á–∏)
- **–†—ë–±—Ä–∞ (Edges)** ‚Äî —Å–≤—è–∑–∏ –º–µ–∂–¥—É —Å—É–±—ä–µ–∫—Ç–∞–º–∏ (—Å–µ–º—å—è, —Ä–∞–±–æ—Ç–∞, –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞)
- **–ê—Ç—Ä–∏–±—É—Ç—ã** ‚Äî —Å–≤–æ–π—Å—Ç–≤–∞ —É–∑–ª–æ–≤ (—Ñ–∞–∫—Ç—ã, –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã)
- **–ê–≥—Ä–µ–≥–∞—Ü–∏–∏** ‚Äî –∫–æ–Ω—Å–æ–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–Ω–∞–Ω–∏—è (–ø—Ä–æ—Ñ–∏–ª–∏, —Å–∞–º–º–∞—Ä–∏)
- **–ò—Å—Ç–æ—á–Ω–∏–∫–∏** ‚Äî —Å—ã—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ (—Å–æ–æ–±—â–µ–Ω–∏—è, —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏)

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                          KNOWLEDGE PYRAMID                                   ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ                                                                             ‚îÇ
‚îÇ  Level 5:  KnowledgePack           ‚Üê –ö–æ–Ω—Å–æ–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–Ω–∞–Ω–∏—è (Phase E)    ‚îÇ
‚îÇ                                                                             ‚îÇ
‚îÇ  Level 4:  EntityRelationshipProfile  ‚Üê –ü—Ä–æ—Ñ–∏–ª—å –≤–∑–∞–∏–º–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–π            ‚îÇ
‚îÇ            InteractionSummary         ‚Üê –°–∞–º–º–∞—Ä–∏ —Å–µ—Å—Å–∏–π                     ‚îÇ
‚îÇ                                                                             ‚îÇ
‚îÇ  Level 3:  EntityFact              ‚Üê –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–∫—Ç—ã               ‚îÇ
‚îÇ            Activity                ‚Üê –ü—Ä–æ–µ–∫—Ç—ã, –∑–∞–¥–∞—á–∏, –æ–±–ª–∞—Å—Ç–∏              ‚îÇ
‚îÇ            Commitment              ‚Üê –û–±–µ—â–∞–Ω–∏—è –∏ –¥–æ–≥–æ–≤–æ—Ä—ë–Ω–Ω–æ—Å—Ç–∏             ‚îÇ
‚îÇ            EntityRelation          ‚Üê –°–≤—è–∑–∏ –º–µ–∂–¥—É –ª—é–¥—å–º–∏                    ‚îÇ
‚îÇ                                                                             ‚îÇ
‚îÇ  Level 2:  TopicalSegment          ‚Üê –°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–µ —Å–µ–≥–º–µ–Ω—Ç—ã (Phase E)      ‚îÇ
‚îÇ                                                                             ‚îÇ
‚îÇ  Level 1:  Message                 ‚Üê –°—ã—Ä—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è                       ‚îÇ
‚îÇ            TranscriptSegment       ‚Üê –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ –∑–≤–æ–Ω–∫–æ–≤                  ‚îÇ
‚îÇ            (–≤ Interaction)                                                  ‚îÇ
‚îÇ                                                                             ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## –°—Ç–∞—Ç—É—Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

> **–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 2025-02-05 –ø–æ—Å–ª–µ –∞—É–¥–∏—Ç–∞ –∫–æ–¥–æ–≤–æ–π –±–∞–∑—ã. –ö–∞–∂–¥–∞—è entity –æ—Ü–µ–Ω–µ–Ω–∞ –ø–æ —Ç—Ä—ë–º –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º: –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –ª–∏ –≤ –∫–æ–¥–µ, –ø–æ–¥–∫–ª—é—á–µ–Ω–∞ –ª–∏ –∫ extraction pipeline, –∏ —Ä–µ–∞–ª—å–Ω–æ –ª–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è –∑–∞–ø–∏—Å–∏ –≤ production.

### –£—Å–ª–æ–≤–Ω—ã–µ –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è

| –°—Ç–∞—Ç—É—Å | –ó–Ω–∞—á–µ–Ω–∏–µ |
|--------|----------|
| üü¢ **PRODUCTION** | Entity –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç: –∫–æ–¥ + extraction + –∑–∞–ø–∏—Å–∏ –≤ –ë–î |
| üü° **PARTIAL** | Entity —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ —á–∞—Å—Ç—å –ø–æ–ª–µ–π/—Å–≤—è–∑–µ–π –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è |
| üî¥ **DORMANT** | Entity –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∞ –≤ –∫–æ–¥–µ, –Ω–æ –Ω–∏ –æ–¥–∏–Ω —Å–µ—Ä–≤–∏—Å –Ω–µ —Å–æ–∑–¥–∞—ë—Ç –∑–∞–ø–∏—Å–∏ |
| ‚ö™ **PLANNED** | Entity –æ–ø–∏—Å–∞–Ω–∞ —Ç–æ–ª—å–∫–æ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏, –∫–æ–¥ –Ω–µ –Ω–∞–ø–∏—Å–∞–Ω |

### –ú–∞—Ç—Ä–∏—Ü–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏

| Entity | Entity —Ñ–∞–π–ª | –ú–∏–≥—Ä–∞—Ü–∏—è | Extraction | –ó–∞–ø–∏—Å–∏ –≤ –ë–î | –°—Ç–∞—Ç—É—Å |
|--------|:-----------:|:--------:|:----------:|:------------:|:------:|
| Entity | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | üü¢ PRODUCTION |
| Activity | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | üü° PARTIAL ‚Äî —Ç–æ–ª—å–∫–æ PROJECT/TASK; 9 –ø–æ–ª–µ–π –≤—Å–µ–≥–¥–∞ NULL |
| EntityFact | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | üü¢ PRODUCTION |
| EntityIdentifier | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | üü¢ PRODUCTION |
| EntityRelation | ‚úÖ | ‚úÖ | ‚ùå | ‚ö†Ô∏è manual only | üü° PARTIAL ‚Äî extraction –Ω–µ –ø–µ—Ä—Å–∏—Å—Ç–∏—Ç InferredRelations |
| EntityRelationMember | ‚úÖ | ‚úÖ | ‚ùå | ‚ö†Ô∏è manual only | üü° PARTIAL ‚Äî –∑–∞–≤–∏—Å–∏—Ç –æ—Ç EntityRelation |
| Commitment | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | üü° PARTIAL ‚Äî `activityId` –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è |
| ActivityMember | ‚úÖ | ‚úÖ | ‚ùå | ‚ùå | üü° PARTIAL ‚Äî ActivityMemberService —Å–æ–∑–¥–∞–Ω (Phase 1), –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ extraction pipeline –æ–∂–∏–¥–∞–µ—Ç—Å—è (Phase 2-3) |
| EntityRelationshipProfile | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | üü¢ PRODUCTION |
| InteractionSummary | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | üü¢ PRODUCTION |
| Interaction | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | üü¢ PRODUCTION |
| Message | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | üü¢ PRODUCTION |
| TranscriptSegment | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | üü¢ PRODUCTION |
| InteractionParticipant | ‚úÖ | ‚úÖ | ‚úÖ | ‚úÖ | üü¢ PRODUCTION |
| TopicalSegment | ‚ùå | ‚ùå | ‚ùå | ‚ùå | ‚ö™ PLANNED (Phase E) |
| KnowledgePack | ‚ùå | ‚ùå | ‚ùå | ‚ùå | ‚ö™ PLANNED (Phase E) |

### –î–µ—Ç–∞–ª–∏ —á–∞—Å—Ç–∏—á–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π

**Activity (üü° PARTIAL):**
- –ò–∑ 10 ActivityTypes —Ä–µ–∞–ª—å–Ω–æ —Å–æ–∑–¥–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ `PROJECT` –∏ `TASK`
- –ü–æ–ª—è `description`, `priority`, `context`, `deadline`, `startDate`, `endDate`, `tags`, `progress`, `lastActivityAt` –≤—Å–µ–≥–¥–∞ NULL –ø—Ä–∏ extraction
- –¢—Ä–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –¥–µ—Ä–µ–≤–∞ (closure-table + adjacency + materialized path) –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã, –Ω–æ closure-table –∏ materialized path —Ñ–∞–∫—Ç–∏—á–µ—Å–∫–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
- –£—á–∞—Å—Ç–Ω–∏–∫–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –∫–∞–∫ `metadata.participants: string[]` –≤–º–µ—Å—Ç–æ ActivityMember

**EntityRelation (üü° PARTIAL):**
- –ü–æ–ª–Ω–∞—è N-ary —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è —Å EntityRelationMember
- LLM –∏–∑–≤–ª–µ–∫–∞–µ—Ç InferredRelations –ø—Ä–∏ daily synthesis, –Ω–æ `extraction-persistence.service.ts` –Ω–µ —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–¥–∞ –¥–ª—è –∏—Ö —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è ‚Äî –¥–∞–Ω–Ω—ã–µ —Ç–µ—Ä—è—é—Ç—Å—è
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ —Ä—É—á–Ω–æ–º —Å–æ–∑–¥–∞–Ω–∏–∏ —Å–≤—è–∑–µ–π

**Commitment (üü° PARTIAL):**
- –ò–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –∏–∑ –ø–µ—Ä–µ–ø–∏—Å–∫–∏, –∑–∞–ø–∏—Å–∏ —Å–æ–∑–¥–∞—é—Ç—Å—è
- –ü–æ–ª–µ `activityId` (FK ‚Üí Activity) –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ, –Ω–æ extraction –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –ø—Ä–∏–≤—è–∑—ã–≤–∞–µ—Ç commitment –∫ –ø—Ä–æ–µ–∫—Ç—É/–∑–∞–¥–∞—á–µ

**ActivityMember (üî¥ DORMANT):**
- Entity —Ñ–∞–π–ª —Å–æ–∑–¥–∞–Ω, –º–∏–≥—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∞, 7 —Ä–æ–ª–µ–π –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã
- `activity.service.ts` –∏–Ω–∂–µ–∫—Ç–∏—Ä—É–µ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç
- –í–º–µ—Å—Ç–æ ActivityMember —É—á–∞—Å—Ç–Ω–∏–∫–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –∫–∞–∫ —Å—Ç—Ä–æ–∫–∏ –≤ `Activity.metadata.participants`

---

## –£–∑–ª—ã –≥—Ä–∞—Ñ–∞ (Nodes)

### Entity

> üü¢ **PRODUCTION** ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç

**–°—É–±—ä–µ–∫—Ç—ã –≥—Ä–∞—Ñ–∞** ‚Äî –ª—é–¥–∏ –∏ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏, —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–µ —É–∑–ª—ã –≤—Å–µ—Ö –∑–Ω–∞–Ω–∏–π.

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | uuid | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä |
| `type` | enum | `PERSON` \| `ORGANIZATION` |
| `name` | string(255) | –ò–º—è/–Ω–∞–∑–≤–∞–Ω–∏–µ |
| `organizationId` | uuid? | FK ‚Üí Entity (—Ä–∞–±–æ—Ç–∞–µ—Ç –≤ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏) |
| `notes` | text? | –ó–∞–º–µ—Ç–∫–∏ |
| `profilePhoto` | text? | URL —Ñ–æ—Ç–æ |
| `creationSource` | enum | `MANUAL` \| `PRIVATE_CHAT` \| `WORKING_GROUP` \| `EXTRACTED` |
| `isBot` | boolean | –Ø–≤–ª—è–µ—Ç—Å—è –±–æ—Ç–æ–º |
| `isOwner` | boolean | "–Ø" (–µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π, unique partial index) |
| `deletedAt` | timestamp? | Soft delete |

**–§–∞–π–ª:** `packages/entities/src/entity.entity.ts:31`

**–°–≤—è–∑–∏:**
- `identifiers[]` ‚Üí EntityIdentifier (–∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –∏–∑ –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤)
- `facts[]` ‚Üí EntityFact (–∞—Ç—Ä–∏–±—É—Ç—ã)
- `participations[]` ‚Üí InteractionParticipant (—É—á–∞—Å—Ç–∏–µ –≤ —Å–µ—Å—Å–∏—è—Ö)
- `organization` ‚Üí Entity (—Ä–∞–±–æ—Ç–æ–¥–∞—Ç–µ–ª—å)
- `employees[]` ‚Üí Entity[] (—Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∏, –µ—Å–ª–∏ —ç—Ç–æ –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è)

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**
- Partial unique index –Ω–∞ `isOwner = true` –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –≤–ª–∞–¥–µ–ª—å—Ü–∞
- Soft delete —á–µ—Ä–µ–∑ `@DeleteDateColumn` ‚Äî –¥–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è
- `creationSource` –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –æ—Ç–∫—É–¥–∞ —Å–æ–∑–¥–∞–Ω–∞ —Å—É—â–Ω–æ—Å—Ç—å

---

### Activity

> üü° **PARTIAL** ‚Äî extraction —Å–æ–∑–¥–∞—ë—Ç —Ç–æ–ª—å–∫–æ PROJECT –∏ TASK; 9 –ø–æ–ª–µ–π (description, priority, context, deadline, startDate, endDate, tags, progress, lastActivityAt) –≤—Å–µ–≥–¥–∞ NULL; —É—á–∞—Å—Ç–Ω–∏–∫–∏ –≤ metadata –≤–º–µ—Å—Ç–æ ActivityMember

**–ö–æ–Ω—Ç–µ–∫—Å—Ç—ã –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏** ‚Äî –∏–µ—Ä–∞—Ä—Ö–∏—á–µ—Å–∫–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤—Å–µ—Ö "–¥–µ–ª" —á–µ–ª–æ–≤–µ–∫–∞.

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | uuid | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä |
| `name` | string(500) | –ù–∞–∑–≤–∞–Ω–∏–µ |
| `activityType` | enum | –¢–∏–ø –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ (—Å–º. –Ω–∏–∂–µ) |
| `description` | text? | –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ |
| `status` | enum | –°—Ç–∞—Ç—É—Å (—Å–º. –Ω–∏–∂–µ) |
| `priority` | enum | `CRITICAL` \| `HIGH` \| `MEDIUM` \| `LOW` \| `NONE` |
| `context` | enum | `WORK` \| `PERSONAL` \| `ANY` \| `LOCATION_BASED` |
| `parentId` | uuid? | FK ‚Üí Activity (—Ä–æ–¥–∏—Ç–µ–ª—å –≤ –∏–µ—Ä–∞—Ä—Ö–∏–∏) |
| `depth` | int | –ì–ª—É–±–∏–Ω–∞ –≤ –¥–µ—Ä–µ–≤–µ (0 = –∫–æ—Ä–µ–Ω—å) |
| `materializedPath` | text? | –ü—É—Ç—å –æ—Ç –∫–æ—Ä–Ω—è: `uuid1/uuid2/uuid3` |
| `ownerEntityId` | uuid | FK ‚Üí Entity (–≤–ª–∞–¥–µ–ª–µ—Ü, –æ–±—ã—á–Ω–æ isOwner=true) |
| `clientEntityId` | uuid? | FK ‚Üí Entity (–∫–ª–∏–µ–Ω—Ç/–∑–∞–∫–∞–∑—á–∏–∫) |
| `deadline` | timestamp? | –î–µ–¥–ª–∞–π–Ω |
| `startDate` | timestamp? | –î–∞—Ç–∞ –Ω–∞—á–∞–ª–∞ |
| `endDate` | timestamp? | –§–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –¥–∞—Ç–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è |
| `recurrenceRule` | string(100)? | Cron-–≤—ã—Ä–∞–∂–µ–Ω–∏–µ –¥–ª—è –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è |
| `metadata` | jsonb? | –†–∞—Å—à–∏—Ä—è–µ–º—ã–µ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ |
| `tags` | text[]? | –¢–µ–≥–∏ –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ (GIN index) |
| `progress` | int? | –ü—Ä–æ–≥—Ä–µ—Å—Å 0-100% |
| `lastActivityAt` | timestamp? | –ü–æ—Å–ª–µ–¥–Ω—è—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å |
| `deletedAt` | timestamp? | Soft delete |

**–§–∞–π–ª:** `packages/entities/src/activity.entity.ts:115`

**ActivityType (—Ç–∏–ø—ã –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏):**

| –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|-----|----------|--------|
| `AREA` | –°—Ñ–µ—Ä–∞ –∂–∏–∑–Ω–∏ | –†–∞–±–æ—Ç–∞, –°–µ–º—å—è, –ó–¥–æ—Ä–æ–≤—å–µ |
| `BUSINESS` | –ë–∏–∑–Ω–µ—Å/–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è | –ì—É–≥–ª–®–∏—Ç—Å.—Ä—É, –ö–æ–Ω—Å–∞–ª—Ç–∏–Ω–≥ |
| `DIRECTION` | –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ | YouTube-–∫–∞–Ω–∞–ª, –ü—Ä–æ–¥–∞–∂–∏ |
| `PROJECT` | –ü—Ä–æ–µ–∫—Ç —Å —Ü–µ–ª—å—é –∏ —Å—Ä–æ–∫–∞–º–∏ | –í–∏–¥–µ–æ –ø—Ä–æ —Ñ–æ—Ä–º—É–ª—ã, –•–∞–± –¥–ª—è –ë–∏—Ç—Ä–∏–∫—Å24 |
| `INITIATIVE` | –ò–Ω–∏—Ü–∏–∞—Ç–∏–≤–∞/—ç–ø–∏–∫ –≤–Ω—É—Ç—Ä–∏ –ø—Ä–æ–µ–∫—Ç–∞ | –†–µ–¥–∏–∑–∞–π–Ω –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ |
| `TASK` | –ö–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è –∑–∞–¥–∞—á–∞ | –ù–∞—Å—Ç—Ä–æ–∏—Ç—å webhooks |
| `MILESTONE` | –í–µ—Ö–∞ | –†–µ–ª–∏–∑ v1.0 |
| `HABIT` | –ü–æ–≤—Ç–æ—Ä—è—é—â–∞—è—Å—è –ø—Ä–∏–≤—ã—á–∫–∞ | –£—Ç—Ä–µ–Ω–Ω—è—è –∑–∞—Ä—è–¥–∫–∞ |
| `LEARNING` | –û–±—É—á–µ–Ω–∏–µ/–∫—É—Ä—Å | –ö—É—Ä—Å –ø–æ TypeScript |
| `EVENT_SERIES` | –°–µ—Ä–∏—è —Å–æ–±—ã—Ç–∏–π | –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–µ –≤—Å—Ç—Ä–µ—á–∏ |

**ActivityStatus (—Å—Ç–∞—Ç—É—Å—ã):**

| –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|----------|
| `DRAFT` | –ß–µ—Ä–Ω–æ–≤–∏–∫ ‚Äî –æ–∂–∏–¥–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è |
| `IDEA` | –ò–¥–µ—è, –Ω–µ –Ω–∞—á–∞—Ç–∞ |
| `ACTIVE` | –í —Ä–∞–±–æ—Ç–µ |
| `PAUSED` | –ù–∞ –ø–∞—É–∑–µ |
| `COMPLETED` | –ó–∞–≤–µ—Ä—à–µ–Ω–∞ —É—Å–ø–µ—à–Ω–æ |
| `CANCELLED` | –û—Ç–º–µ–Ω–µ–Ω–∞ |
| `ARCHIVED` | –í –∞—Ä—Ö–∏–≤–µ |

**–†–µ–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–∏–ø–æ–≤:**

> ‚ö†Ô∏è Extraction pipeline (`extraction-persistence.service.ts`) —Å–æ–∑–¥–∞—ë—Ç —Ç–æ–ª—å–∫–æ `PROJECT` –∏ `TASK`. –û—Å—Ç–∞–ª—å–Ω—ã–µ 8 —Ç–∏–ø–æ–≤ (AREA, BUSINESS, DIRECTION, INITIATIVE, MILESTONE, HABIT, LEARNING, EVENT_SERIES) –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã, –Ω–æ –Ω–µ —Å–æ–∑–¥–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. –°–æ–∑–¥–∞–Ω–∏–µ –≤—Ä—É—á–Ω—É—é —á–µ—Ä–µ–∑ API —Ç–µ–æ—Ä–µ—Ç–∏—á–µ—Å–∫–∏ –≤–æ–∑–º–æ–∂–Ω–æ, –Ω–æ –Ω–µ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ.

**–ò–µ—Ä–∞—Ä—Ö–∏—è (—Ç—Ä–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ):**

1. **Closure-table** (`@Tree('closure-table')`) ‚Äî –¥–ª—è `findAncestors()`/`findDescendants()` —á–µ—Ä–µ–∑ `activities_closure`
2. **Adjacency List** (`parentId`) ‚Äî –¥–ª—è –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–æ–¥–∏—Ç–µ–ª—é
3. **Materialized Path** (`materializedPath`) ‚Äî –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ LIKE-–ø–æ–∏—Å–∫–∞ –ø–æ—Ç–æ–º–∫–æ–≤

> ‚ö†Ô∏è **–§–∞–∫—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ Adjacency List** (`parentId`, `depth`). Closure-table —Ç–∞–±–ª–∏—Ü–∞ (`activities_closure`) —Å–æ–∑–¥–∞–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏–µ–π, –Ω–æ TypeORM closure-table –º–µ—Ç–æ–¥—ã –Ω–µ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è –≤ —Å–µ—Ä–≤–∏—Å–∞—Ö. Materialized path (`materializedPath`) –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è, –Ω–æ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö. –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è: —Å–∫–æ–Ω—Ü–µ–Ω—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –Ω–∞ Adjacency List, –æ—Å—Ç–∞–ª—å–Ω–æ–µ —Å—á–∏—Ç–∞—Ç—å —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º –¥–æ–ª–≥–æ–º.

**–ü—Ä–∏–º–µ—Ä –∏–µ—Ä–∞—Ä—Ö–∏–∏:**
```
–†–∞–±–æ—Ç–∞ (AREA)
‚îî‚îÄ‚îÄ –ì—É–≥–ª–®–∏—Ç—Å.—Ä—É (BUSINESS)
    ‚îî‚îÄ‚îÄ YouTube-–∫–∞–Ω–∞–ª (DIRECTION)
        ‚îî‚îÄ‚îÄ –í–∏–¥–µ–æ –ø—Ä–æ —Ñ–æ—Ä–º—É–ª—ã (PROJECT)
            ‚îî‚îÄ‚îÄ –ù–∞–ø–∏—Å–∞—Ç—å —Å—Ü–µ–Ω–∞—Ä–∏–π (TASK)
```

---

## –ê—Ç—Ä–∏–±—É—Ç—ã —É–∑–ª–æ–≤ (Node Properties)

### EntityFact

> üü¢ **PRODUCTION** ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç, –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ + –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ + dedup

**–°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–∫—Ç—ã –æ —Å—É–±—ä–µ–∫—Ç–∞—Ö** —Å –∏—Å—Ç–æ—Ä–∏–µ–π –∏–∑–º–µ–Ω–µ–Ω–∏–π, –≤–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ–º –∏ semantic deduplication.

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | uuid | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä |
| `entityId` | uuid | FK ‚Üí Entity |
| `factType` | string(50) | –¢–∏–ø —Ñ–∞–∫—Ç–∞ (—Å–º. –Ω–∏–∂–µ) |
| `category` | enum | –ö–∞—Ç–µ–≥–æ—Ä–∏—è —Ñ–∞–∫—Ç–∞ (—Å–º. –Ω–∏–∂–µ) |
| `value` | string(500)? | –¢–µ–∫—Å—Ç–æ–≤–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ |
| `valueDate` | date? | –ó–Ω–∞—á–µ–Ω–∏–µ-–¥–∞—Ç–∞ (–¥–ª—è birthday –∏ —Ç.–ø.) |
| `valueJson` | jsonb? | –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ |
| `source` | enum | `MANUAL` \| `EXTRACTED` \| `IMPORTED` |
| `confidence` | decimal(3,2)? | –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –∏–∑–≤–ª–µ—á–µ–Ω–∏—è 0.00-1.00 |
| `embedding` | vector(1536)? | Embedding –¥–ª—è semantic dedup |
| `sourceInteractionId` | uuid? | FK ‚Üí Interaction (–∏—Å—Ç–æ—á–Ω–∏–∫) |
| `rank` | enum | `preferred` \| `normal` \| `deprecated` |
| `supersededById` | uuid? | FK ‚Üí EntityFact (–Ω–æ–≤–∞—è –≤–µ—Ä—Å–∏—è) |
| `needsReview` | boolean | –¢—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ (–∫–æ–Ω—Ñ–ª–∏–∫—Ç) |
| `reviewReason` | text? | –ü—Ä–∏—á–∏–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏ |
| `confirmationCount` | int | –°–∫–æ–ª—å–∫–æ —Ä–∞–∑ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥—ë–Ω –∏–∑ —Ä–∞–∑–Ω—ã—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ |
| `validFrom` | date? | –ù–∞—á–∞–ª–æ –ø–µ—Ä–∏–æ–¥–∞ –¥–µ–π—Å—Ç–≤–∏—è |
| `validUntil` | date? | –ö–æ–Ω–µ—Ü –ø–µ—Ä–∏–æ–¥–∞ –¥–µ–π—Å—Ç–≤–∏—è |
| `status` | enum | `DRAFT` \| `ACTIVE` |
| `deletedAt` | timestamp? | Soft delete |

**–§–∞–π–ª:** `packages/entities/src/entity-fact.entity.ts:80`

**FactType (—Ç–∏–ø—ã —Ñ–∞–∫—Ç–æ–≤):**

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –¢–∏–ø—ã |
|-----------|------|
| Personal | `BIRTHDAY`, `NAME_FULL`, `NICKNAME` |
| Contact | `PHONE_WORK`, `PHONE_PERSONAL`, `EMAIL_WORK`, `EMAIL_PERSONAL`, `ADDRESS`, `TELEGRAM` |
| Professional | `POSITION`, `DEPARTMENT`, `COMPANY`, `SPECIALIZATION` |
| Business | `INN`, `KPP`, `OGRN`, `LEGAL_ADDRESS`, `ACTUAL_ADDRESS`, `BANK_ACCOUNT` |
| Preferences | `COMMUNICATION_PREFERENCE`, `TIMEZONE`, `LANGUAGE` |
| AI-generated | `DAILY_SUMMARY` |

**FactCategory:**
- `PERSONAL` ‚Äî –ª–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- `CONTACT` ‚Äî –∫–æ–Ω—Ç–∞–∫—Ç–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
- `PROFESSIONAL` ‚Äî –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- `BUSINESS` ‚Äî –±–∏–∑–Ω–µ—Å-—Ä–µ–∫–≤–∏–∑–∏—Ç—ã (–¥–ª—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–π)
- `LEGAL` ‚Äî —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ
- `FINANCIAL` ‚Äî —Ñ–∏–Ω–∞–Ω—Å–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ
- `PREFERENCES` ‚Äî –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏—è

**–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (Wikidata-style):**
- `rank: preferred` ‚Äî –∞–∫—Ç—É–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
- `rank: normal` ‚Äî –æ–±—ã—á–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
- `rank: deprecated` ‚Äî —É—Å—Ç–∞—Ä–µ–≤—à–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ
- `supersededById` ‚Äî —Å—Å—ã–ª–∫–∞ –Ω–∞ –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é —Ñ–∞–∫—Ç–∞

---

### EntityIdentifier

> üü¢ **PRODUCTION** ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç

**–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä—ã –∏–∑ –≤–Ω–µ—à–Ω–∏—Ö –∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤** ‚Äî —Å–≤—è–∑—ã–≤–∞—é—Ç telegram_user_id, phone, email —Å Entity.

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | uuid | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä |
| `entityId` | uuid | FK ‚Üí Entity |
| `identifierType` | string | –¢–∏–ø: `telegram_user_id`, `phone`, `email`, etc. |
| `identifierValue` | string | –ó–Ω–∞—á–µ–Ω–∏–µ –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–∞ |
| `isPrimary` | boolean | –û—Å–Ω–æ–≤–Ω–æ–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –¥–∞–Ω–Ω–æ–≥–æ —Ç–∏–ø–∞ |
| `metadata` | jsonb? | –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ |

**–§–∞–π–ª:** `packages/entities/src/entity-identifier.entity.ts`

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
- Entity Resolution ‚Äî —Å–≤—è–∑—ã–≤–∞–Ω–∏–µ –≤—Ö–æ–¥—è—â–∏—Ö –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–æ–≤ —Å Entity
- –ü—Ä–∏ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ–º –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä–µ —Å–æ–∑–¥–∞—ë—Ç—Å—è `PendingEntityResolution`

---

## –†—ë–±—Ä–∞ –≥—Ä–∞—Ñ–∞ (Edges)

### EntityRelation

> üü° **PARTIAL** ‚Äî entity –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã, –Ω–æ extraction pipeline –Ω–µ –ø–µ—Ä—Å–∏—Å—Ç–∏—Ç InferredRelations ‚Äî –¥–∞–Ω–Ω—ã–µ –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è LLM –∏ —Ç–µ—Ä—è—é—Ç—Å—è

**N-–∞—Ä–Ω—ã–µ —Å–≤—è–∑–∏ –º–µ–∂–¥—É —Å—É–±—ä–µ–∫—Ç–∞–º–∏** ‚Äî —Å–µ–º—å—è, –¥—Ä—É–∑—å—è, —Ä–∞–±–æ—Ç–∞, –ø–∞—Ä—Ç–Ω—ë—Ä—Å—Ç–≤–∞.

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | uuid | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä |
| `relationType` | enum | –¢–∏–ø —Å–≤—è–∑–∏ (—Å–º. –Ω–∏–∂–µ) |
| `metadata` | jsonb? | `{ since: '2020-01', note: '–ø–æ–∑–Ω–∞–∫–æ–º–∏–ª–∏—Å—å –Ω–∞ –∫–æ–Ω—Ñ–µ—Ä–µ–Ω—Ü–∏–∏' }` |
| `source` | enum | `MANUAL` \| `EXTRACTED` \| `IMPORTED` \| `INFERRED` |
| `confidence` | decimal(3,2)? | –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å 0.00-1.00 |
| `members[]` | relation | EntityRelationMember[] (—É—á–∞—Å—Ç–Ω–∏–∫–∏ —Å —Ä–æ–ª—è–º–∏) |

**–§–∞–π–ª:** `packages/entities/src/entity-relation.entity.ts:26`

**EntityRelationMember:**

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | uuid | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä |
| `relationId` | uuid | FK ‚Üí EntityRelation |
| `entityId` | uuid | FK ‚Üí Entity |
| `role` | string | –†–æ–ª—å –≤ —Å–≤—è–∑–∏ |

**–§–∞–π–ª:** `packages/entities/src/entity-relation-member.entity.ts`

**RelationType –∏ —Ä–æ–ª–∏:**

| –ö–∞—Ç–µ–≥–æ—Ä–∏—è | –¢–∏–ø | –†–æ–ª–∏ | –ö–∞—Ä–¥–∏–Ω–∞–ª—å–Ω–æ—Å—Ç—å |
|-----------|-----|------|----------------|
| **–°–µ–º—å—è** | `MARRIAGE` | spouse ‚Üî spouse | 2 |
| | `PARENTHOOD` | parent ‚Üí child | 2 |
| | `SIBLINGHOOD` | sibling ‚Üî sibling | 2-20 |
| **–†–∞–±–æ—Ç–∞** | `EMPLOYMENT` | employee ‚Üí employer | 2 |
| | `REPORTING` | subordinate ‚Üí manager | 2 |
| | `TEAM` | member*, lead | 2-100 |
| **–°–æ—Ü–∏–∞–ª—å–Ω—ã–µ** | `FRIENDSHIP` | friend ‚Üî friend | 2 |
| | `ACQUAINTANCE` | acquaintance | 2 |
| | `MENTORSHIP` | mentor ‚Üí mentee | 2 |
| **–ë–∏–∑–Ω–µ—Å** | `PARTNERSHIP` | partner ‚Üî partner | 2-10 |
| | `CLIENT_VENDOR` | client ‚Üí vendor | 2 |

**–§–∞–π–ª:** `packages/entities/src/relation-type.enum.ts:5`

**–ü—Ä–∏–º–µ—Ä—ã:**

```
# –ë—Ä–∞–∫ (–±–∏–Ω–∞—Ä–Ω–∞—è —Å–≤—è–∑—å)
EntityRelation { type: MARRIAGE, metadata: { since: '2015' } }
‚îú‚îÄ‚îÄ Member { entity: –ò–≤–∞–Ω,  role: 'spouse' }
‚îî‚îÄ‚îÄ Member { entity: –ú–∞—Ä–∏—è, role: 'spouse' }

# –ö–æ–º–∞–Ω–¥–∞ (N-–∞—Ä–Ω–∞—è —Å–≤—è–∑—å)
EntityRelation { type: TEAM, metadata: { name: 'Backend Team' } }
‚îú‚îÄ‚îÄ Member { entity: –ü—ë—Ç—Ä, role: 'lead' }
‚îú‚îÄ‚îÄ Member { entity: –ò–≤–∞–Ω, role: 'member' }
‚îî‚îÄ‚îÄ Member { entity: –ú–∞—Ä–∏—è, role: 'member' }

# –°–µ–º—å—è (—Ä–æ–¥–∏—Ç–µ–ª—å-—Ä–µ–±—ë–Ω–æ–∫)
EntityRelation { type: PARENTHOOD }
‚îú‚îÄ‚îÄ Member { entity: –ò–≤–∞–Ω,  role: 'parent' }
‚îî‚îÄ‚îÄ Member { entity: –ê–ª—ë—à–∞, role: 'child' }
```

**–í–∞–ª–∏–¥–∞—Ü–∏—è:**
- `RELATION_ROLES[type]` ‚Äî –¥–æ–ø—É—Å—Ç–∏–º—ã–µ —Ä–æ–ª–∏ –¥–ª—è —Ç–∏–ø–∞
- `RELATION_CARDINALITY[type]` ‚Äî min/max —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- `isValidRole(type, role)` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–∏
- `isValidCardinality(type, count)` ‚Äî –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞

---

### Commitment

> üü° **PARTIAL** ‚Äî –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è –∏–∑ –ø–µ—Ä–µ–ø–∏—Å–∫–∏, –Ω–æ `activityId` (FK ‚Üí Activity) –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è ‚Äî –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω—ã –∫ –ø—Ä–æ–µ–∫—Ç–∞–º/–∑–∞–¥–∞—á–∞–º

**–û–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ –º–µ–∂–¥—É —Å—É–±—ä–µ–∫—Ç–∞–º–∏** ‚Äî –æ–±–µ—â–∞–Ω–∏—è, –∑–∞–ø—Ä–æ—Å—ã, —Å–æ–≥–ª–∞—à–µ–Ω–∏—è, –≤—Å—Ç—Ä–µ—á–∏.

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | uuid | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä |
| `type` | enum | –¢–∏–ø –æ–±—è–∑–∞—Ç–µ–ª—å—Å—Ç–≤–∞ (—Å–º. –Ω–∏–∂–µ) |
| `title` | string(500) | –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ |
| `description` | text? | –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ |
| `status` | enum | –°—Ç–∞—Ç—É—Å (—Å–º. –Ω–∏–∂–µ) |
| `priority` | enum | `CRITICAL` \| `HIGH` \| `MEDIUM` \| `LOW` |
| `fromEntityId` | uuid | FK ‚Üí Entity (–∫—Ç–æ –¥–∞–ª –æ–±–µ—â–∞–Ω–∏–µ) |
| `toEntityId` | uuid | FK ‚Üí Entity (–∫–æ–º—É –¥–∞–Ω–æ –æ–±–µ—â–∞–Ω–∏–µ) |
| `activityId` | uuid? | FK ‚Üí Activity (–∫–æ–Ω—Ç–µ–∫—Å—Ç) |
| `sourceMessageId` | uuid? | FK ‚Üí Message (–∏—Å—Ç–æ—á–Ω–∏–∫) |
| `extractedEventId` | uuid? | FK ‚Üí ExtractedEvent |
| `dueDate` | timestamp? | –°—Ä–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è |
| `completedAt` | timestamp? | –§–∞–∫—Ç–∏—á–µ—Å–∫–∞—è –¥–∞—Ç–∞ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è |
| `recurrenceRule` | string(100)? | Cron –¥–ª—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏—Ö |
| `nextReminderAt` | timestamp? | –°–ª–µ–¥—É—é—â–µ–µ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ |
| `reminderCount` | int | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞–ø–æ–º–∏–Ω–∞–Ω–∏–π |
| `confidence` | float? | –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å –∏–∑–≤–ª–µ—á–µ–Ω–∏—è |
| `metadata` | jsonb? | –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ |
| `notes` | text? | –†—É—á–Ω—ã–µ –∑–∞–º–µ—Ç–∫–∏ |
| `deletedAt` | timestamp? | Soft delete |

**–§–∞–π–ª:** `packages/entities/src/commitment.entity.ts:92`

**CommitmentType:**

| –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|-----|----------|--------|
| `PROMISE` | –û–±–µ—â–∞–Ω–∏–µ —á—Ç–æ-—Ç–æ —Å–¥–µ–ª–∞—Ç—å | "–Ø –ø—Ä–∏—à–ª—é –æ—Ç—á—ë—Ç –¥–æ –ø—è—Ç–Ω–∏—Ü—ã" |
| `REQUEST` | –ó–∞–ø—Ä–æ—Å –æ—Ç –¥—Ä—É–≥–æ–≥–æ —á–µ–ª–æ–≤–µ–∫–∞ | "–í–∞—Å—è –ø–æ–ø—Ä–æ—Å–∏–ª —Ä–µ–≤—å—é" |
| `AGREEMENT` | –í–∑–∞–∏–º–Ω–æ–µ —Å–æ–≥–ª–∞—à–µ–Ω–∏–µ | "–î–æ–≥–æ–≤–æ—Ä–∏–ª–∏—Å—å –æ —Ü–µ–Ω–µ" |
| `DEADLINE` | –î–µ–¥–ª–∞–π–Ω | "–°–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç –¥–æ 1 –º–∞—Ä—Ç–∞" |
| `REMINDER` | –ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏–µ | "–ù–∞–ø–æ–º–Ω–∏—Ç—å –ø–æ–∑–≤–æ–Ω–∏—Ç—å" |
| `RECURRING` | –ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∞—è –∑–∞–¥–∞—á–∞ | "–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –æ—Ç—á—ë—Ç" |
| `MEETING` | –í—Å—Ç—Ä–µ—á–∞ | "–°–æ–∑–≤–æ–Ω –≤ 15:00" |

**CommitmentStatus:**

| –°—Ç–∞—Ç—É—Å | –û–ø–∏—Å–∞–Ω–∏–µ |
|--------|----------|
| `DRAFT` | –û–∂–∏–¥–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è |
| `PENDING` | –û–∂–∏–¥–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è |
| `IN_PROGRESS` | –í –ø—Ä–æ—Ü–µ—Å—Å–µ |
| `COMPLETED` | –í—ã–ø–æ–ª–Ω–µ–Ω–æ |
| `CANCELLED` | –û—Ç–º–µ–Ω–µ–Ω–æ |
| `OVERDUE` | –ü—Ä–æ—Å—Ä–æ—á–µ–Ω–æ |
| `DEFERRED` | –û—Ç–ª–æ–∂–µ–Ω–æ |

**–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ—Å—Ç—å:**
- `fromEntityId ‚Üí toEntityId` ‚Äî –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–µ —Ä–µ–±—Ä–æ
- "–í–∞—Å—è –æ–±–µ—â–∞–ª –º–Ω–µ" ‚Üí from: –í–∞—Å—è, to: –Ø
- "–Ø –æ–±–µ—â–∞–ª –í–∞—Å–µ" ‚Üí from: –Ø, to: –í–∞—Å—è

---

### ActivityMember

> üî¥ **DORMANT** ‚Äî entity —Ñ–∞–π–ª –∏ –º–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—Ç, `activity.service.ts` –∏–Ω–∂–µ–∫—Ç–∏—Ä—É–µ—Ç —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π, –Ω–æ **–Ω–∏ –æ–¥–∏–Ω —Å–µ—Ä–≤–∏—Å –Ω–µ —Å–æ–∑–¥–∞—ë—Ç –∑–∞–ø–∏—Å–∏**. –£—á–∞—Å—Ç–Ω–∏–∫–∏ —Ö—Ä–∞–Ω—è—Ç—Å—è –∫–∞–∫ `Activity.metadata.participants: string[]` (–Ω–µ—Ä–µ–∑–æ–ª–≤–ª–µ–Ω–Ω—ã–µ –∏–º–µ–Ω–∞)

**–£—á–∞—Å—Ç–∏–µ Entity –≤ Activity** ‚Äî —Å–≤—è–∑—å –º–Ω–æ–≥–∏–µ-–∫–æ-–º–Ω–æ–≥–∏–º —Å —Ä–æ–ª—è–º–∏.

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | uuid | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä |
| `activityId` | uuid | FK ‚Üí Activity |
| `entityId` | uuid | FK ‚Üí Entity |
| `role` | enum | –†–æ–ª—å —É—á–∞—Å—Ç–Ω–∏–∫–∞ (—Å–º. –Ω–∏–∂–µ) |
| `notes` | text? | –ó–∞–º–µ—Ç–∫–∏ –æ —Ä–æ–ª–∏ |
| `isActive` | boolean | –ê–∫—Ç–∏–≤–µ–Ω –ª–∏ —É—á–∞—Å—Ç–Ω–∏–∫ |
| `joinedAt` | timestamp? | –î–∞—Ç–∞ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è |
| `leftAt` | timestamp? | –î–∞—Ç–∞ –≤—ã—Ö–æ–¥–∞ |
| `metadata` | jsonb? | permissions, preferences, etc. |

**–§–∞–π–ª:** `packages/entities/src/activity-member.entity.ts:49`

**ActivityMemberRole:**

| –†–æ–ª—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|----------|
| `OWNER` | –í–ª–∞–¥–µ–ª–µ—Ü/–æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π |
| `MEMBER` | –£—á–∞—Å—Ç–Ω–∏–∫ |
| `OBSERVER` | –ù–∞–±–ª—é–¥–∞—Ç–µ–ª—å (—Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ) |
| `ASSIGNEE` | –ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å |
| `REVIEWER` | –†–µ–≤—å—é–µ—Ä |
| `CLIENT` | –ö–ª–∏–µ–Ω—Ç/–∑–∞–∫–∞–∑—á–∏–∫ |
| `CONSULTANT` | –ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç |

**–ü—Ä–∏–º–µ—Ä:**
```
–ü—Ä–æ–µ–∫—Ç "–•–∞–± –¥–ª—è –ë–∏—Ç—Ä–∏–∫—Å24":
‚îú‚îÄ‚îÄ ActivityMember { entity: –Ø,        role: OWNER }
‚îú‚îÄ‚îÄ ActivityMember { entity: –ü–∞–Ω–∞–≤—Ç–æ,  role: CLIENT }
‚îú‚îÄ‚îÄ ActivityMember { entity: –í–∞—Å—è,     role: MEMBER }
‚îî‚îÄ‚îÄ ActivityMember { entity: –¢–∏–º–ª–∏–¥,   role: REVIEWER }
```

**Unique constraint:** `(activityId, entityId, role)` ‚Äî –æ–¥–∏–Ω Entity –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–æ–ª–µ–π –≤ –æ–¥–Ω–æ–π Activity.

---

## –ê–≥—Ä–µ–≥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–Ω–∞–Ω–∏—è (Summaries)

### EntityRelationshipProfile

> üü¢ **PRODUCTION** ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç, –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**–ü—Ä–æ—Ñ–∏–ª—å –≤–∑–∞–∏–º–æ–æ—Ç–Ω–æ—à–µ–Ω–∏–π —Å Entity** ‚Äî –≤—ã—Å–æ–∫–æ—É—Ä–æ–≤–Ω–µ–≤–æ–µ –∑–Ω–∞–Ω–∏–µ –æ —á–µ–ª–æ–≤–µ–∫–µ/–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏–∏.

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | uuid | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä |
| `entityId` | uuid | FK ‚Üí Entity (unique ‚Äî –æ–¥–∏–Ω –ø—Ä–æ—Ñ–∏–ª—å –Ω–∞ Entity) |
| `relationshipType` | enum | –¢–∏–ø –æ—Ç–Ω–æ—à–µ–Ω–∏–π (—Å–º. –Ω–∏–∂–µ) |
| `communicationFrequency` | enum | –ß–∞—Å—Ç–æ—Ç–∞ –æ–±—â–µ–Ω–∏—è (—Å–º. –Ω–∏–∂–µ) |
| `relationshipSummary` | text | –¢–µ–∫—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –æ—Ç–Ω–æ—à–µ–Ω–∏–π |
| `relationshipTimeline` | text? | –•—Ä–æ–Ω–æ–ª–æ–≥–∏—è –æ—Ç–Ω–æ—à–µ–Ω–∏–π |
| `firstInteractionDate` | timestamp | –î–∞—Ç–∞ –ø–µ—Ä–≤–æ–≥–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è |
| `lastMeaningfulContact` | timestamp | –ü–æ—Å–ª–µ–¥–Ω–∏–π –∑–Ω–∞—á–∏–º—ã–π –∫–æ–Ω—Ç–∞–∫—Ç |
| `totalInteractions` | int | –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π |
| `totalMessages` | int | –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π |
| `topTopics` | jsonb | –û—Å–Ω–æ–≤–Ω—ã–µ —Ç–µ–º—ã –æ–±—Å—É–∂–¥–µ–Ω–∏–π (string[]) |
| `milestones` | jsonb | –í–µ—Ö–∏ –æ—Ç–Ω–æ—à–µ–Ω–∏–π (—Å–º. –Ω–∏–∂–µ) |
| `keyDecisions` | jsonb | –ö–ª—é—á–µ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è (—Å–º. –Ω–∏–∂–µ) |
| `openActionItems` | jsonb | –û—Ç–∫—Ä—ã—Ç—ã–µ action items (—Å–º. –Ω–∏–∂–µ) |
| `summarizedInteractionsCount` | int | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å—É–º–º–∞—Ä–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–π |
| `coverageStart` | timestamp | –ù–∞—á–∞–ª–æ –ø–æ–∫—Ä—ã—Ç–∏—è |
| `coverageEnd` | timestamp | –ö–æ–Ω–µ—Ü –ø–æ–∫—Ä—ã—Ç–∏—è |
| `modelVersion` | string(50)? | –í–µ—Ä—Å–∏—è –º–æ–¥–µ–ª–∏ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ |

**–§–∞–π–ª:** `packages/entities/src/entity-relationship-profile.entity.ts:48`

**RelationshipType:**
- `client` ‚Äî –∫–ª–∏–µ–Ω—Ç
- `partner` ‚Äî –ø–∞—Ä—Ç–Ω—ë—Ä
- `colleague` ‚Äî –∫–æ–ª–ª–µ–≥–∞
- `friend` ‚Äî –¥—Ä—É–≥
- `acquaintance` ‚Äî –∑–Ω–∞–∫–æ–º—ã–π
- `vendor` ‚Äî –ø–æ—Å—Ç–∞–≤—â–∏–∫
- `other` ‚Äî –¥—Ä—É–≥–æ–µ

**CommunicationFrequency:**
- `daily` ‚Äî –µ–∂–µ–¥–Ω–µ–≤–Ω–æ
- `weekly` ‚Äî –µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ
- `monthly` ‚Äî –µ–∂–µ–º–µ—Å—è—á–Ω–æ
- `quarterly` ‚Äî —Ä–∞–∑ –≤ –∫–≤–∞—Ä—Ç–∞–ª
- `rare` ‚Äî —Ä–µ–¥–∫–æ

**RelationshipMilestone:**
```typescript
{
  date: string;        // "2024-01-15"
  title: string;       // "–ü–æ–¥–ø–∏—Å–∞–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞"
  description: string; // "–ü–æ–¥–ø–∏—Å–∞–ª–∏ –¥–æ–≥–æ–≤–æ—Ä –Ω–∞ 1 –≥–æ–¥"
}
```

**KeyDecision:**
```typescript
{
  date: string;           // "2024-02-01"
  description: string;    // "–°–æ–≥–ª–∞—Å–æ–≤–∞–ª–∏ –±—é–¥–∂–µ—Ç"
  quote?: string | null;  // "–û–∫–µ–π, 500–∫ –Ω–∞—Å —É—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç"
}
```

**OpenActionItem:**
```typescript
{
  description: string;           // "–ü—Ä–∏—Å–ª–∞—Ç—å –ö–ü"
  owner: 'self' | 'them' | 'both'; // –ö—Ç–æ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π
}
```

---

### InteractionSummary

> üü¢ **PRODUCTION** ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç, –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏

**–°–∞–º–º–∞—Ä–∏ —Å–µ—Å—Å–∏–∏ –æ–±—â–µ–Ω–∏—è** ‚Äî —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ä–µ–∑—é–º–µ Interaction.

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | uuid | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä |
| `interactionId` | uuid | FK ‚Üí Interaction (unique) |
| `summaryText` | text | –¢–µ–∫—Å—Ç–æ–≤–æ–µ —Ä–µ–∑—é–º–µ |
| `keyPoints` | jsonb | –ö–ª—é—á–µ–≤—ã–µ –ø—É–Ω–∫—Ç—ã (string[]) |
| `tone` | enum? | –¢–æ–Ω –æ–±—â–µ–Ω–∏—è (—Å–º. –Ω–∏–∂–µ) |
| `decisions` | jsonb | –†–µ—à–µ–Ω–∏—è (—Å–º. –Ω–∏–∂–µ) |
| `actionItems` | jsonb | Action items (—Å–º. –Ω–∏–∂–µ) |
| `importantMessages` | jsonb | –í–∞–∂–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è (—Å–º. –Ω–∏–∂–µ) |
| `factsExtracted` | jsonb? | –ò–∑–≤–ª–µ—á—ë–Ω–Ω—ã–µ —Ñ–∞–∫—Ç—ã |
| `messageCount` | int? | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π |
| `sourceTokenCount` | int? | –¢–æ–∫–µ–Ω–æ–≤ –≤ –∏—Å—Ç–æ—á–Ω–∏–∫–µ |
| `summaryTokenCount` | int? | –¢–æ–∫–µ–Ω–æ–≤ –≤ —Å–∞–º–º–∞—Ä–∏ |
| `compressionRatio` | decimal(5,2)? | –ö–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Å–∂–∞—Ç–∏—è |
| `modelVersion` | string(50)? | –í–µ—Ä—Å–∏—è –º–æ–¥–µ–ª–∏ |
| `generationCostUsd` | decimal(10,6)? | –°—Ç–æ–∏–º–æ—Å—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ |
| `revisionCount` | int | –ù–æ–º–µ—Ä —Ä–µ–≤–∏–∑–∏–∏ |
| `embedding` | vector(1536)? | Embedding –¥–ª—è semantic search |

**–§–∞–π–ª:** `packages/entities/src/interaction-summary.entity.ts:38`

**ToneType:**
- `positive` ‚Äî –ø–æ–∑–∏—Ç–∏–≤–Ω—ã–π
- `neutral` ‚Äî –Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π
- `negative` ‚Äî –Ω–µ–≥–∞—Ç–∏–≤–Ω—ã–π
- `formal` ‚Äî —Ñ–æ—Ä–º–∞–ª—å–Ω—ã–π
- `informal` ‚Äî –Ω–µ—Ñ–æ—Ä–º–∞–ª—å–Ω—ã–π

**Decision:**
```typescript
{
  description: string;                    // "–°–æ–≥–ª–∞—Å–æ–≤–∞–ª–∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—É"
  date: string | null;                    // "2024-01-15"
  importance: 'high' | 'medium' | 'low';  // –í–∞–∂–Ω–æ—Å—Ç—å
  quote?: string;                         // –¶–∏—Ç–∞—Ç–∞ –∏–∑ –ø–µ—Ä–µ–ø–∏—Å–∫–∏
}
```

**ActionItem:**
```typescript
{
  description: string;           // "–ü—Ä–∏—Å–ª–∞—Ç—å –¢–ó"
  owner: 'self' | 'them' | 'both';
  status: 'open' | 'closed';
  dueDate?: string;              // "2024-01-20"
  closedAt?: string;             // "2024-01-18"
}
```

**ImportantMessageRef:**
```typescript
{
  messageId: string;    // UUID —Å–æ–æ–±—â–µ–Ω–∏—è
  content: string;      // –¢–µ–∫—Å—Ç
  timestamp: string;    // ISO timestamp
  reason: 'decision' | 'agreement' | 'deadline' | 'important_info';
}
```

---

## –ò—Å—Ç–æ—á–Ω–∏–∫–∏ –¥–∞–Ω–Ω—ã—Ö (Raw Data)

### Interaction

> üü¢ **PRODUCTION** ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç

**–°–µ—Å—Å–∏—è –æ–±—â–µ–Ω–∏—è** ‚Äî –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏–π, —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–π.

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | uuid | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä |
| `type` | enum | `TELEGRAM_SESSION` \| `PHONE_CALL` \| `VIDEO_MEETING` |
| `source` | enum | `TELEGRAM` \| `MANUAL_UPLOAD` \| `GOOGLE_MEET` \| `ZOOM` |
| `status` | enum | `ACTIVE` \| `COMPLETED` \| `PENDING_REVIEW` \| `PROCESSING` \| `ERROR` |
| `startedAt` | timestamp | –ù–∞—á–∞–ª–æ —Å–µ—Å—Å–∏–∏ |
| `endedAt` | timestamp? | –ö–æ–Ω–µ—Ü —Å–µ—Å—Å–∏–∏ |
| `sourceMetadata` | jsonb? | –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∞ (—Å–º. –Ω–∏–∂–µ) |
| `participants[]` | relation | InteractionParticipant[] |
| `messages[]` | relation | Message[] |
| `transcriptSegments[]` | relation | TranscriptSegment[] |
| `summary` | relation | InteractionSummary? |

**–§–∞–π–ª:** `packages/entities/src/interaction.entity.ts:39`

**sourceMetadata:**
```typescript
{
  // Telegram
  telegram_chat_id?: string;
  chat_type?: 'private' | 'group' | 'supergroup';

  // Phone call
  phone_number?: string;
  direction?: 'incoming' | 'outgoing';
  duration_seconds?: number;
  audio_file_path?: string;

  // Video meeting
  meeting_url?: string;
  meeting_id?: string;
  platform?: string;
}
```

**Session Management:**
- –ù–æ–≤–∞—è —Å–µ—Å—Å–∏—è —Å–æ–∑–¥–∞—ë—Ç—Å—è –ø—Ä–∏ gap > 4 —á–∞—Å–æ–≤ –º–µ–∂–¥—É —Å–æ–æ–±—â–µ–Ω–∏—è–º–∏
- `ACTIVE` ‚Üí `COMPLETED` –∫–æ–≥–¥–∞ gap –ø—Ä–µ–≤—ã—à–µ–Ω

---

### Message

> üü¢ **PRODUCTION** ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç

**–°–æ–æ–±—â–µ–Ω–∏–µ** ‚Äî –∞—Ç–æ–º–∞—Ä–Ω–∞—è –µ–¥–∏–Ω–∏—Ü–∞ –æ–±—â–µ–Ω–∏—è.

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | uuid | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä |
| `interactionId` | uuid | FK ‚Üí Interaction |
| `senderEntityId` | uuid | FK ‚Üí Entity (–∞–≤—Ç–æ—Ä) |
| `content` | text | –¢–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è |
| `timestamp` | timestamp | –í—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏ |
| `sourceMessageId` | string? | ID –≤ –∏—Å—Ç–æ—á–Ω–∏–∫–µ (telegram message_id) |
| `embedding` | vector(1536)? | Embedding –¥–ª—è semantic search |
| `metadata` | jsonb? | –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ |

**–§–∞–π–ª:** `packages/entities/src/message.entity.ts`

---

### TranscriptSegment

> üü¢ **PRODUCTION** ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–±–æ—Ç–∞–µ—Ç

**–°–µ–≥–º–µ–Ω—Ç —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏** ‚Äî —á–∞—Å—Ç—å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –∑–≤–æ–Ω–∫–∞/–≤–∏–¥–µ–æ.

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | uuid | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä |
| `interactionId` | uuid | FK ‚Üí Interaction |
| `speakerEntityId` | uuid? | FK ‚Üí Entity (–∫—Ç–æ –≥–æ–≤–æ—Ä–∏—Ç) |
| `speakerLabel` | string? | –ú–µ—Ç–∫–∞ —Å–ø–∏–∫–µ—Ä–∞ –¥–æ resolution |
| `content` | text | –¢–µ–∫—Å—Ç —Å–µ–≥–º–µ–Ω—Ç–∞ |
| `startTime` | float | –ù–∞—á–∞–ª–æ –≤ —Å–µ–∫—É–Ω–¥–∞—Ö |
| `endTime` | float | –ö–æ–Ω–µ—Ü –≤ —Å–µ–∫—É–Ω–¥–∞—Ö |
| `confidence` | float? | –£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ |
| `embedding` | vector(1536)? | Embedding |

**–§–∞–π–ª:** `packages/entities/src/transcript-segment.entity.ts`

---

## –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —Å—É—â–Ω–æ—Å—Ç–∏ (Phase E)

### TopicalSegment

> ‚ö™ **PLANNED** (Phase E) ‚Äî –Ω–µ—Ç –Ω–∏ entity —Ñ–∞–π–ª–∞, –Ω–∏ –º–∏–≥—Ä–∞—Ü–∏–∏

**–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π —Å–µ–≥–º–µ–Ω—Ç –æ–±—Å—É–∂–¥–µ–Ω–∏—è** ‚Äî –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –ø–æ —Ç–µ–º–µ.

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | uuid | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä |
| `topic` | string(200) | –ö—Ä–∞—Ç–∫–∞—è —Ç–µ–º–∞ |
| `summary` | text | –†–µ–∑—é–º–µ –æ–±—Å—É–∂–¥–µ–Ω–∏—è |
| `activityId` | uuid? | FK ‚Üí Activity (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø—Ä–∏–≤—è–∑–∫–∞) |
| `participants` | jsonb | Entity IDs —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ |
| `sentiment` | enum? | –¢–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –æ–±—Å—É–∂–¥–µ–Ω–∏—è |
| `startedAt` | timestamp | –ù–∞—á–∞–ª–æ —Å–µ–≥–º–µ–Ω—Ç–∞ |
| `endedAt` | timestamp | –ö–æ–Ω–µ—Ü —Å–µ–≥–º–µ–Ω—Ç–∞ |
| `messageCount` | int | –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Å–æ–æ–±—â–µ–Ω–∏–π |
| `embedding` | vector(1536)? | Embedding —Ç–µ–º—ã |
| `messages[]` | relation | Message[] (many-to-many) |

**–§–∞–π–ª:** `docs/second-brain/06-PHASE-E-KNOWLEDGE-PACKING.md`

**–û—Ç–ª–∏—á–∏–µ –æ—Ç Interaction:**
- Interaction ‚Äî —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è —Å–µ—Å—Å–∏—è (gap > 4—á)
- TopicalSegment ‚Äî —Å–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∞—è –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ (–æ–¥–Ω–∞ —Ç–µ–º–∞)
- –í –æ–¥–Ω–æ–π Interaction –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ TopicalSegment
- –û–¥–∏–Ω TopicalSegment –º–æ–∂–µ—Ç –æ—Ö–≤–∞—Ç—ã–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ Interaction

---

### KnowledgePack

> ‚ö™ **PLANNED** (Phase E) ‚Äî –Ω–µ—Ç –Ω–∏ entity —Ñ–∞–π–ª–∞, –Ω–∏ –º–∏–≥—Ä–∞—Ü–∏–∏

**–ö–æ–Ω—Å–æ–ª–∏–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–Ω–∞–Ω–∏—è –ø–æ Activity** ‚Äî —É–ø–∞–∫–æ–≤–∫–∞ –∑–Ω–∞–Ω–∏–π –∑–∞ –ø–µ—Ä–∏–æ–¥.

| –ü–æ–ª–µ | –¢–∏–ø | –û–ø–∏—Å–∞–Ω–∏–µ |
|------|-----|----------|
| `id` | uuid | –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä |
| `activityId` | uuid | FK ‚Üí Activity |
| `periodStart` | timestamp | –ù–∞—á–∞–ª–æ –ø–µ—Ä–∏–æ–¥–∞ |
| `periodEnd` | timestamp | –ö–æ–Ω–µ—Ü –ø–µ—Ä–∏–æ–¥–∞ |
| `summary` | text | –û–±—â–µ–µ —Ä–µ–∑—é–º–µ |
| `keyFacts` | jsonb | –ö–ª—é—á–µ–≤—ã–µ —Ñ–∞–∫—Ç—ã (string[]) |
| `openQuestions` | jsonb | –û—Ç–∫—Ä—ã—Ç—ã–µ –≤–æ–ø—Ä–æ—Å—ã (string[]) |
| `decisions` | jsonb | –ü—Ä–∏–Ω—è—Ç—ã–µ —Ä–µ—à–µ–Ω–∏—è |
| `risks` | jsonb | –í—ã—è–≤–ª–µ–Ω–Ω—ã–µ —Ä–∏—Å–∫–∏ |
| `sourceSegmentIds` | jsonb | UUID[] —Å–µ–≥–º–µ–Ω—Ç–æ–≤-–∏—Å—Ç–æ—á–Ω–∏–∫–æ–≤ |
| `embedding` | vector(1536)? | Embedding –¥–ª—è –ø–æ–∏—Å–∫–∞ |

**–§–∞–π–ª:** `docs/second-brain/06-PHASE-E-KNOWLEDGE-PACKING.md`

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**
- –†–µ—Ç—Ä–æ—Å–ø–µ–∫—Ç–∏–≤–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∑–Ω–∞–Ω–∏–π
- –°–∂–∞—Ç–∏–µ –∏ –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Å—Ö–æ–∂–∏—Ö –∑–Ω–∞–Ω–∏–π
- –ü–µ—Ä–µ–ø—Ä–æ–≤–µ—Ä–∫–∞ –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ñ–∞–∫—Ç–æ–≤
- "–û—Å—è–∑–∞–µ–º—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç" –ø–æ Activity

---

## –°–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ –ø–ª–∞–Ω —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è

> –í—ã—è–≤–ª–µ–Ω–æ 2025-02-05 –ø—Ä–∏ –∞—É–¥–∏—Ç–µ —Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–π –º–µ–∂–¥—É —ç—Ç–∏–º –¥–æ–∫—É–º–µ–Ω—Ç–æ–º –∏ —Ä–µ–∞–ª—å–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∫–æ–¥–∞. –î–µ—Ç–∞–ª—å–Ω—ã–π –ø–ª–∞–Ω —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è: [`docs/plans/2025-02-05-project-creation-improvements-plan.md`](./plans/2025-02-05-project-creation-improvements-plan.md)

### –ü—Ä–æ–±–ª–µ–º–∞ 1: –î–æ–∫—É–º–µ–Ω—Ç –Ω–µ —Ä–∞–∑–ª–∏—á–∞–µ—Ç "–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–æ" –∏ "—Ä–∞–±–æ—Ç–∞–µ—Ç"

**–°—É—Ç—å:** –î–æ —ç—Ç–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –≤—Å–µ entity –æ–ø–∏—Å—ã–≤–∞–ª–∏—Å—å –æ–¥–∏–Ω–∞–∫–æ–≤–æ, –±–µ–∑ —É–∫–∞–∑–∞–Ω–∏—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è. –≠—Ç–æ —Å–æ–∑–¥–∞–≤–∞–ª–æ –∏–ª–ª—é–∑–∏—é, —á—Ç–æ –≤–µ—Å—å –≥—Ä–∞—Ñ —Ä–∞–±–æ—Ç–∞–µ—Ç, —Ö–æ—Ç—è —á–∞—Å—Ç—å entity ‚Äî "—Å–ø—è—â–∏–µ".

**–†–µ—à–µ–Ω–∏–µ (–≤—ã–ø–æ–ª–Ω–µ–Ω–æ):** –î–æ–±–∞–≤–ª–µ–Ω—ã —Å—Ç–∞—Ç—É—Å—ã —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ (üü¢üü°üî¥‚ö™) –∫ –∫–∞–∂–¥–æ–π entity –∏ —Å–≤–æ–¥–Ω–∞—è –º–∞—Ç—Ä–∏—Ü–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –≤ –Ω–∞—á–∞–ª–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞. –¢–µ–ø–µ—Ä—å –ø—Ä–∏ —á—Ç–µ–Ω–∏–∏ KG —Å—Ä–∞–∑—É –ø–æ–Ω—è—Ç–Ω–æ, —á—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç, –∞ —á—Ç–æ ‚Äî —Ü–µ–ª–µ–≤–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ.

**–ü—Ä–∞–≤–∏–ª–æ –Ω–∞ –±—É–¥—É—â–µ–µ:** –ü—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–π entity –≤ KG –¥–æ–∫—É–º–µ–Ω—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å —Ç–µ–∫—É—â–∏–π Implementation Status. –û–±–Ω–æ–≤–ª—è—Ç—å —Å—Ç–∞—Ç—É—Å –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –≤ –∫–æ–¥–µ.

### –ü—Ä–æ–±–ª–µ–º–∞ 2: –ò–∑–±—ã—Ç–æ—á–Ω–æ—Å—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –¥–µ—Ä–µ–≤–∞ Activity

**–°—É—Ç—å:** Activity –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ç—Ä–∏ –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –¥–µ—Ä–µ–≤–∞ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ:
1. Closure-table (TypeORM `@Tree('closure-table')`) ‚Äî —Ç–∞–±–ª–∏—Ü–∞ `activities_closure`
2. Adjacency List (`parentId` + `depth`)
3. Materialized Path (`materializedPath`)

–§–∞–∫—Ç–∏—á–µ—Å–∫–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ Adjacency List. Closure-table —Ç–∞–±–ª–∏—Ü–∞ —Å–æ–∑–¥–∞–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏–µ–π, –Ω–æ –µ—ë –º–µ—Ç–æ–¥—ã (`findAncestors`, `findDescendants`) –Ω–µ –≤—ã–∑—ã–≤–∞—é—Ç—Å—è. Materialized path –∑–∞–ø–æ–ª–Ω—è–µ—Ç—Å—è, –Ω–æ –Ω–µ —É—á–∞—Å—Ç–≤—É–µ—Ç –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö.

**–†–∏—Å–∫–∏:**
- –¢—Ä—ë—Ö–∫—Ä–∞—Ç–Ω–æ–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö (—Ä–∞–∑–º–µ—Ä –ë–î)
- Bug –≤ TypeORM 0.3.x: `repository.save()` —Å closure-table –º–æ–∂–µ—Ç –ø–∞–¥–∞—Ç—å ‚Üí –Ω—É–∂–µ–Ω `QueryBuilder.insert()`
- –°–ª–æ–∂–Ω–æ—Å—Ç—å –ø–æ–¥–¥–µ—Ä–∂–∫–∏ ‚Äî –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –Ω–∞–¥–æ –æ–±–Ω–æ–≤–ª—è—Ç—å —Ç—Ä–∏ –∏—Å—Ç–æ—á–Ω–∏–∫–∞

**–ü–ª–∞–Ω —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è:**
1. **–ö—Ä–∞—Ç–∫–æ—Å—Ä–æ—á–Ω–æ:** –û—Å—Ç–∞–≤–∏—Ç—å –∫–∞–∫ –µ—Å—Ç—å, –¥–æ–±–∞–≤–∏—Ç—å –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é (–≤—ã–ø–æ–ª–Ω–µ–Ω–æ –≤—ã—à–µ)
2. **–°—Ä–µ–¥–Ω–µ—Å—Ä–æ—á–Ω–æ:** –û—Ü–µ–Ω–∏—Ç—å, –Ω—É–∂–µ–Ω –ª–∏ –≤–æ–æ–±—â–µ closure-table. –ï—Å–ª–∏ hierarchical queries –ø–æ—Ç—Ä–µ–±—É—é—Ç—Å—è ‚Äî —Ä–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å –Ω–∞ –±–∞–∑–µ `materializedPath` (LIKE-–ø–æ–∏—Å–∫) –∏–ª–∏ recursive CTE, —á—Ç–æ –ø—Ä–æ—â–µ –∏ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü—ã
3. **–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–æ:** –£–±—Ä–∞—Ç—å `@Tree('closure-table')` –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä –∏ –º–∏–≥—Ä–∞—Ü–∏—é –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è `activities_closure`, –µ—Å–ª–∏ –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è 6+ –º–µ—Å—è—Ü–µ–≤

### –ü—Ä–æ–±–ª–µ–º–∞ 3: ActivityMember ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é "—Å–ø—è—â–∞—è" entity

**–°—É—Ç—å:** ActivityMember ‚Äî –æ–¥–Ω–∞ –∏–∑ —Ç—Ä—ë—Ö edge-entity –≤ –≥—Ä–∞—Ñ–µ, –Ω–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è, –∫–æ—Ç–æ—Ä–∞—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç. Extraction pipeline —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤ –ø—Ä–æ–µ–∫—Ç–æ–≤ –∫–∞–∫ —Å—Ç—Ä–æ–∫–æ–≤—ã–π –º–∞—Å—Å–∏–≤ –≤ `Activity.metadata.participants`, –º–∏–Ω—É—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—É—é ActivityMember.

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- –ù–µ–≤–æ–∑–º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ "–≤—Å–µ –ø—Ä–æ–µ–∫—Ç—ã, –≤ –∫–æ—Ç–æ—Ä—ã—Ö —É—á–∞—Å—Ç–≤—É–µ—Ç –ò–≤–∞–Ω–æ–≤" —á–µ—Ä–µ–∑ SQL JOIN
- –ù–µ—Ç —Ä–æ–ª–µ–≤–æ–π –º–æ–¥–µ–ª–∏: –Ω–µ–ø–æ–Ω—è—Ç–Ω–æ –∫—Ç–æ owner, –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å, –Ω–∞–±–ª—é–¥–∞—Ç–µ–ª—å
- `metadata.participants` ‚Äî –Ω–µ—Ä–µ–∑–æ–ª–≤–ª–µ–Ω–Ω—ã–µ —Å—Ç—Ä–æ–∫–∏, –Ω–µ –ø—Ä–∏–≤—è–∑–∞–Ω–Ω—ã–µ –∫ Entity

**–ü–ª–∞–Ω —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è (–ü—Ä–æ–±–ª–µ–º–∞ 8 –≤ –ø–ª–∞–Ω–µ —É–ª—É—á—à–µ–Ω–∏–π):**
1. –°–æ–∑–¥–∞—Ç—å `ActivityMemberService` —Å –º–µ—Ç–æ–¥–æ–º `resolveAndCreateMembers()`
2. –ò–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ `extraction-persistence.service.ts` ‚Äî –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ Activity —Å–æ–∑–¥–∞–≤–∞—Ç—å ActivityMember –∑–∞–ø–∏—Å–∏
3. –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ `metadata.participants` ‚Üí ActivityMember
4. –ü—Ä–µ–∫—Ä–∞—Ç–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `metadata.participants` –¥–ª—è —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤

### –ü—Ä–æ–±–ª–µ–º–∞ 4: –ü–æ—Ç–µ—Ä—è –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ extraction

**–°—É—Ç—å:** Extraction pipeline –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é, –Ω–æ —á–∞—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö —Ç–µ—Ä—è–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ü–∏–∏:

| –ß—Ç–æ –∏–∑–≤–ª–µ–∫–∞–µ—Ç—Å—è | –ß—Ç–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è | –ß—Ç–æ —Ç–µ—Ä—è–µ—Ç—Å—è |
|-----------------|-----------------|--------------|
| InferredRelations (LLM) | ‚Äî | –í—Å—ë (–∫–æ–¥ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –Ω–µ –Ω–∞–ø–∏—Å–∞–Ω) |
| Commitment —Å –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–º –ø—Ä–æ–µ–∫—Ç–∞ | Commitment –±–µ–∑ activityId | –ü—Ä–∏–≤—è–∑–∫–∞ –∫ –ø—Ä–æ–µ–∫—Ç—É |
| Activity —Å —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ | Activity + metadata.participants | –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ä–æ–ª–∏ |
| Project description –∏–∑ –æ–±—Å—É–∂–¥–µ–Ω–∏—è | ‚Äî | description (–ø–æ–ª–µ NULL) |

**–ü–ª–∞–Ω —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è (–ü—Ä–æ–±–ª–µ–º–∞ 8 –≤ –ø–ª–∞–Ω–µ —É–ª—É—á—à–µ–Ω–∏–π):**
1. **InferredRelations:** –î–æ–±–∞–≤–∏—Ç—å `persistInferredRelations()` –≤ extraction-persistence, —Å–æ–∑–¥–∞–≤–∞—Ç—å draft EntityRelation + EntityRelationMember
2. **Commitment.activityId:** –û–±–æ–≥–∞—Ç–∏—Ç—å extraction prompt, –¥–æ–±–∞–≤–∏—Ç—å –ª–∏–Ω–∫–æ–≤–∫—É –ø–æ –∏–º–µ–Ω–∏ –ø—Ä–æ–µ–∫—Ç–∞
3. **Activity –ø–æ–ª—è:** –†–∞—Å—à–∏—Ä–∏—Ç—å ExtractedProject —Ç–∏–ø, –º–∞–ø–ø–∏—Ç—å description/priority/deadline/tags –∏–∑ extraction

### –û–±—â–∏–π roadmap —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è

| –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç | –ß—Ç–æ | –ö–æ–≥–¥–∞ | –°—Å—ã–ª–∫–∞ | –°—Ç–∞—Ç—É—Å |
|-----------|-----|-------|--------|--------|
| üî¥ P0 | ActivityMember wiring | Phase 3 (Week 4) –ø–ª–∞–Ω–∞ | –ü—Ä–æ–±–ª–µ–º–∞ 8.1 | Foundation: ActivityMemberService —Å–æ–∑–¥–∞–Ω (Phase 1) |
| üî¥ P0 | InferredRelations persistence | Phase 3 (Week 4) –ø–ª–∞–Ω–∞ | –ü—Ä–æ–±–ª–µ–º–∞ 8.3 | –û–∂–∏–¥–∞–µ—Ç Phase 3 |
| üü° P1 | Commitment ‚Üí Activity linking | Phase 3 (Week 4) –ø–ª–∞–Ω–∞ | –ü—Ä–æ–±–ª–µ–º–∞ 8.2 | –û–∂–∏–¥–∞–µ—Ç Phase 3 |
| üü° P1 | Activity fields enrichment | Phase 3 (Week 4) –ø–ª–∞–Ω–∞ | –ü—Ä–æ–±–ª–µ–º–∞ 8.4 | –û–∂–∏–¥–∞–µ—Ç Phase 3 |
| üü¢ P2 | –£–±—Ä–∞—Ç—å –∏–∑–±—ã—Ç–æ—á–Ω—ã–µ tree patterns | –ü–æ—Å–ª–µ Phase 7 | –ü—Ä–æ–±–ª–µ–º–∞ 2 | –û–∂–∏–¥–∞–µ—Ç |
| üü¢ P2 | –û–±–Ω–æ–≤–ª—è—Ç—å —ç—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ | Ongoing | –ü—Ä–æ–±–ª–µ–º–∞ 1 | Ongoing |

---

## Foundation Services (Phase D, Phase 1)

> **–û–±–Ω–æ–≤–ª–µ–Ω–æ:** 2025-02-06. –≠—Ç–∞ —Å–µ–∫—Ü–∏—è –æ–ø–∏—Å—ã–≤–∞–µ—Ç —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã, —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –≤ Phase 1 (Foundation Services) –ø–ª–∞–Ω–∞ —É–ª—É—á—à–µ–Ω–∏–π —Å–∏—Å—Ç–µ–º—ã —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–æ–≤. –≠—Ç–∏ —Å–µ—Ä–≤–∏—Å—ã —Ä–µ—à–∞—é—Ç —Å–∏—Å—Ç–µ–º–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã, –≤—ã—è–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–∏ –∞—É–¥–∏—Ç–µ 2025-02-05.

### –û–±–∑–æ—Ä

Phase 1 —Å–æ–∑–¥–∞–ª–∞ —á–µ—Ç—ã—Ä–µ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–∞, –∫–æ—Ç–æ—Ä—ã–µ —Ñ–æ—Ä–º–∏—Ä—É—é—Ç –±–∞–∑—É –¥–ª—è —É–ª—É—á—à–µ–Ω–∏—è extraction pipeline –∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—è —Ä–∞–∑—Ä—ã–≤–∞ –º–µ–∂–¥—É –º–æ–¥–µ–ª—å—é –¥–∞–Ω–Ω—ã—Ö –∏ –µ—ë –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º. –°–µ—Ä–≤–∏—Å—ã —Å–æ–∑–¥–∞–Ω—ã –±–µ–∑ breaking changes –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ã –¥–ª—è –ø–æ—ç—Ç–∞–ø–Ω–æ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ extraction pipeline (Phase 2-3).

### ProjectMatchingService

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** Fuzzy matching –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è –¥—É–±–ª–∏–∫–∞—Ç–æ–≤ Activity (–ø—Ä–æ–µ–∫—Ç–æ–≤).

**–§–∞–π–ª:** `apps/pkg-core/src/modules/extraction/project-matching.service.ts`

**–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –ù–µ—á—ë—Ç–∫–∏–π –ø–æ–∏—Å–∫ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é
- –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –Ω–∞–∑–≤–∞–Ω–∏–π (—Ä–µ–≥–∏—Å—Ç—Ä, –ø—É–Ω–∫—Ç—É–∞—Ü–∏—è, —Å—Ç–æ–ø-—Å–ª–æ–≤–∞)
- Scoring candidates –ø–æ —Å—Ç–µ–ø–µ–Ω–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è
- –ü–æ—Ä–æ–≥ —Å–æ–≤–ø–∞–¥–µ–Ω–∏—è –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ merge vs —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞

**–†–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É:** –î—É–±–ª–∏–∫–∞—Ç—ã –ø—Ä–æ–µ–∫—Ç–æ–≤ —Å –ø–æ—Ö–æ–∂–∏–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ (–ü—Ä–æ–±–ª–µ–º–∞ 2 –ø–ª–∞–Ω–∞ —É–ª—É—á—à–µ–Ω–∏–π)

### ClientResolutionService

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –¢—Ä—ë—Ö—Å—Ç—Ä–∞—Ç–µ–≥–∏–π–Ω–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞/–∑–∞–∫–∞–∑—á–∏–∫–∞ –¥–ª—è Activity.

**–§–∞–π–ª:** `apps/pkg-core/src/modules/extraction/client-resolution.service.ts`

**–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- –°—Ç—Ä–∞—Ç–µ–≥–∏—è 1: –ü—Ä—è–º–æ–µ —É–ø–æ–º–∏–Ω–∞–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ –≤ —Ç–µ–∫—Å—Ç–µ
- –°—Ç—Ä–∞—Ç–µ–≥–∏—è 2: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç—É –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è (—Å–æ–±–µ—Å–µ–¥–Ω–∏–∫)
- –°—Ç—Ä–∞—Ç–µ–≥–∏—è 3: Inference –ø–æ —Å–≤—è–∑—è–º Entity (–æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è, –∫ –∫–æ—Ç–æ—Ä–æ–π –æ—Ç–Ω–æ—Å–∏—Ç—Å—è –∫–æ–Ω—Ç–∞–∫—Ç)
- –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–π –∏ fallback-–ª–æ–≥–∏–∫–∞

**–†–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø—Ä–∏–≤—è–∑–∫–∞ –∫–ª–∏–µ–Ω—Ç–æ–≤ –∫ –ø—Ä–æ–µ–∫—Ç–∞–º (–ü—Ä–æ–±–ª–µ–º–∞ 3 –ø–ª–∞–Ω–∞ —É–ª—É—á—à–µ–Ω–∏–π)

### ActivityValidationService

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –í–∞–ª–∏–¥–∞—Ü–∏—è –∏–µ—Ä–∞—Ä—Ö–∏–∏ —Ç–∏–ø–æ–≤ Activity –∏ –±–∏–∑–Ω–µ—Å-–ø—Ä–∞–≤–∏–ª —Å–æ–∑–¥–∞–Ω–∏—è.

**–§–∞–π–ª:** `apps/pkg-core/src/modules/activity/activity-validation.service.ts`

**–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- HIERARCHY_RULES ‚Äî –ø—Ä–∞–≤–∏–ª–∞ –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö parent-child —Å–≤—è–∑–µ–π –º–µ–∂–¥—É —Ç–∏–ø–∞–º–∏ Activity
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–∏–ø–∞ Activity –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ (PROJECT –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –¥–æ—á–µ—Ä–Ω–∏–º –¥–ª—è TASK)
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–∏–ø–∞
- –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—Ç–∞—Ç—É—Å–Ω—ã—Ö –ø–µ—Ä–µ—Ö–æ–¥–æ–≤

**–†–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É:** –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫–æ–Ω—Ç—Ä–æ–ª—è –∏–µ—Ä–∞—Ä—Ö–∏–∏ Activity (—á–∞—Å—Ç—å –ü—Ä–æ–±–ª–µ–º—ã 4 –ø–ª–∞–Ω–∞ —É–ª—É—á—à–µ–Ω–∏–π)

### ActivityMemberService

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —É—á–∞—Å—Ç–Ω–∏–∫–∞–º–∏ Activity —á–µ—Ä–µ–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∑–∞–ø–∏—Å–∏ ActivityMember.

**–§–∞–π–ª:** `apps/pkg-core/src/modules/activity/activity-member.service.ts`

**–ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:**
- Resolve names -- Entity: –ø–æ–∏—Å–∫ Entity –ø–æ –∏–º–µ–Ω–∞–º —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- –°–æ–∑–¥–∞–Ω–∏–µ ActivityMember –∑–∞–ø–∏—Å–µ–π —Å —Ä–æ–ª—è–º–∏ (OWNER, MEMBER, CLIENT, ASSIGNEE –∏ –¥—Ä.)
- –ó–∞–º–µ–Ω–∞ `metadata.participants: string[]` –Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–≤—è–∑–∏
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ä–æ–ª–µ–π –æ–¥–Ω–æ–≥–æ Entity –≤ –æ–¥–Ω–æ–π Activity

**–†–µ—à–∞–µ—Ç –ø—Ä–æ–±–ª–µ–º—É:** ActivityMember -- –ø–æ–ª–Ω–æ—Å—Ç—å—é "—Å–ø—è—â–∞—è" entity (–ü—Ä–æ–±–ª–µ–º–∞ 3 –≤ —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º–∞—Ö, –ü—Ä–æ–±–ª–µ–º–∞ 8.1 –ø–ª–∞–Ω–∞ —É–ª—É—á—à–µ–Ω–∏–π)

### –°–≤—è–∑—å —Å —Å–∏—Å—Ç–µ–º–Ω—ã–º–∏ –ø—Ä–æ–±–ª–µ–º–∞–º–∏

| –ü—Ä–æ–±–ª–µ–º–∞ | Foundation Service | –°—Ç–∞—Ç—É—Å |
|----------|-------------------|--------|
| –î—É–±–ª–∏–∫–∞—Ç—ã –ø—Ä–æ–µ–∫—Ç–æ–≤ | ProjectMatchingService | –°–µ—Ä–≤–∏—Å —Å–æ–∑–¥–∞–Ω, –æ–∂–∏–¥–∞–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ extraction (Phase 2) |
| –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –∫–ª–∏–µ–Ω—Ç | ClientResolutionService | –°–µ—Ä–≤–∏—Å —Å–æ–∑–¥–∞–Ω, –æ–∂–∏–¥–∞–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ extraction (Phase 2) |
| –ù–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª—è –∏–µ—Ä–∞—Ä—Ö–∏–∏ | ActivityValidationService | –°–µ—Ä–≤–∏—Å —Å–æ–∑–¥–∞–Ω, –æ–∂–∏–¥–∞–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ (Phase 2) |
| ActivityMember dormant | ActivityMemberService | –°–µ—Ä–≤–∏—Å —Å–æ–∑–¥–∞–Ω, –æ–∂–∏–¥–∞–µ—Ç wiring –≤ extraction (Phase 3) |

---

## –í–∏–∑—É–∞–ª—å–Ω—ã–µ —Å—Ö–µ–º—ã

### –ü–æ–ª–Ω–∞—è —Å—Ö–µ–º–∞ –≥—Ä–∞—Ñ–∞

```
                                 ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
                                 ‚îÇ      ACTIVITY       ‚îÇ
                                 ‚îÇ  (PROJECT/TASK/..)  ‚îÇ
                                 ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
                                            ‚îÇ
              ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îº‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
              ‚îÇ ActivityMember              ‚îÇ ownerEntityId               ‚îÇ Commitment
              ‚îÇ (role: assignee,member..)   ‚îÇ clientEntityId              ‚îÇ (activityId)
              ‚ñº                             ‚ñº                             ‚ñº
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê           ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê           ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ     ENTITY      ‚îÇ‚óÑ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÇ     ENTITY      ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ñ∫‚îÇ     ENTITY      ‚îÇ
    ‚îÇ    (Person)     ‚îÇ           ‚îÇ    (Person)     ‚îÇ           ‚îÇ    (Person)     ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò           ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò           ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
             ‚îÇ                             ‚îÇ                             ‚îÇ
             ‚îÇ EntityRelation              ‚îÇ Commitment                  ‚îÇ EntityFact
             ‚îÇ (MARRIAGE/FRIEND..)         ‚îÇ (PROMISE/REQUEST)           ‚îÇ (BIRTHDAY/..)
             ‚îÇ                             ‚îÇ                             ‚îÇ
             ‚ñº                             ‚ñº                             ‚ñº
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê           ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê           ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ     ENTITY      ‚îÇ           ‚îÇ     ENTITY      ‚îÇ           ‚îÇ  (–∞—Ç—Ä–∏–±—É—Ç—ã)     ‚îÇ
    ‚îÇ    (Person)     ‚îÇ           ‚îÇ    (Person)     ‚îÇ           ‚îÇ                 ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò           ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò           ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
             ‚îÇ
             ‚îÇ EntityRelation (EMPLOYMENT)
             ‚ñº
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ     ENTITY      ‚îÇ
    ‚îÇ  (Organization) ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

### –ò–µ—Ä–∞—Ä—Ö–∏—è –¥–∞–Ω–Ω—ã—Ö

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                              DATA FLOW                                       ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò

    Telegram/Phone/Meet                    Mini App / Telegram Bot
           ‚îÇ                                        ‚ñ≤
           ‚ñº                                        ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                         ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ  Interaction ‚îÇ                         ‚îÇ Dashboard   ‚îÇ
    ‚îÇ  + Messages  ‚îÇ                         ‚îÇ Recall      ‚îÇ
    ‚îÇ  + Segments  ‚îÇ                         ‚îÇ Prepare     ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                         ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
           ‚îÇ                                        ‚îÇ
           ‚îÇ Extraction                             ‚îÇ Query
           ‚ñº                                        ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ                        KNOWLEDGE GRAPH                               ‚îÇ
    ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îÇ
    ‚îÇ  ‚îÇ  Entity  ‚îÇ‚îÄ‚îÄ‚îÇ Relation ‚îÇ‚îÄ‚îÄ‚îÇ  Entity  ‚îÇ‚îÄ‚îÄ‚îÇ EntityFact           ‚îÇ ‚îÇ
    ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚îÇ EntityRelation       ‚îÇ ‚îÇ
    ‚îÇ       ‚îÇ                           ‚îÇ        ‚îÇ Commitment           ‚îÇ ‚îÇ
    ‚îÇ       ‚îÇ    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò        ‚îÇ Activity             ‚îÇ ‚îÇ
    ‚îÇ       ‚îÇ    ‚îÇ                               ‚îÇ ActivityMember       ‚îÇ ‚îÇ
    ‚îÇ       ‚ñº    ‚ñº                               ‚îÇ InteractionSummary   ‚îÇ ‚îÇ
    ‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê                          ‚îÇ RelationshipProfile  ‚îÇ ‚îÇ
    ‚îÇ  ‚îÇ   Activity   ‚îÇ                          ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îÇ
    ‚îÇ  ‚îÇ  (PROJECT)   ‚îÇ                                                   ‚îÇ
    ‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò                                                   ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## –°–≤–æ–¥–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞

| –°—É—â–Ω–æ—Å—Ç—å | –¢–∏–ø | –°—Ç–∞—Ç—É—Å | –§–∞–π–ª | –°—Ç—Ä–æ–∫–∞ |
|----------|-----|--------|------|--------|
| **–£–∑–ª—ã** | | | | |
| Entity | Node | üü¢ PRODUCTION | `packages/entities/src/entity.entity.ts` | 31 |
| Activity | Node | üü° PARTIAL | `packages/entities/src/activity.entity.ts` | 115 |
| **–ê—Ç—Ä–∏–±—É—Ç—ã** | | | | |
| EntityFact | Node Property | üü¢ PRODUCTION | `packages/entities/src/entity-fact.entity.ts` | 80 |
| EntityIdentifier | Node Property | üü¢ PRODUCTION | `packages/entities/src/entity-identifier.entity.ts` | ‚Äî |
| **–†—ë–±—Ä–∞** | | | | |
| EntityRelation | Edge (N-ary) | üü° PARTIAL | `packages/entities/src/entity-relation.entity.ts` | 26 |
| EntityRelationMember | Edge (N-ary) | üü° PARTIAL | `packages/entities/src/entity-relation-member.entity.ts` | ‚Äî |
| RelationType | Enum | üü¢ PRODUCTION | `packages/entities/src/relation-type.enum.ts` | 5 |
| Commitment | Edge | üü° PARTIAL | `packages/entities/src/commitment.entity.ts` | 92 |
| ActivityMember | Edge | üî¥ DORMANT | `packages/entities/src/activity-member.entity.ts` | 49 |
| **–ê–≥—Ä–µ–≥–∞—Ü–∏–∏** | | | | |
| EntityRelationshipProfile | Summary | üü¢ PRODUCTION | `packages/entities/src/entity-relationship-profile.entity.ts` | 48 |
| InteractionSummary | Summary | üü¢ PRODUCTION | `packages/entities/src/interaction-summary.entity.ts` | 38 |
| **–ò—Å—Ç–æ—á–Ω–∏–∫–∏** | | | | |
| Interaction | Raw Data | üü¢ PRODUCTION | `packages/entities/src/interaction.entity.ts` | 39 |
| Message | Raw Data | üü¢ PRODUCTION | `packages/entities/src/message.entity.ts` | ‚Äî |
| TranscriptSegment | Raw Data | üü¢ PRODUCTION | `packages/entities/src/transcript-segment.entity.ts` | ‚Äî |
| InteractionParticipant | Raw Data | üü¢ PRODUCTION | `packages/entities/src/interaction-participant.entity.ts` | ‚Äî |
| **–ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ (Phase E)** | | | | |
| TopicalSegment | Planned | ‚ö™ PLANNED | `docs/second-brain/06-PHASE-E-KNOWLEDGE-PACKING.md` | ‚Äî |
| KnowledgePack | Planned | ‚ö™ PLANNED | `docs/second-brain/06-PHASE-E-KNOWLEDGE-PACKING.md` | ‚Äî |

---

## –°–º. —Ç–∞–∫–∂–µ

- [DATA_MODEL.md](./DATA_MODEL.md) ‚Äî –º–æ–¥–µ–ª—å –¥–∞–Ω–Ω—ã—Ö, ER-–¥–∏–∞–≥—Ä–∞–º–º–∞
- [ARCHITECTURE.md](./ARCHITECTURE.md) ‚Äî –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã
- [second-brain/INDEX.md](./second-brain/INDEX.md) ‚Äî roadmap —Ä–∞–∑–≤–∏—Ç–∏—è
- [second-brain/06-PHASE-E-KNOWLEDGE-PACKING.md](./second-brain/06-PHASE-E-KNOWLEDGE-PACKING.md) ‚Äî Phase E —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è
